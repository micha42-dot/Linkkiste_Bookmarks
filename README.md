# LINK | kiste

![Screenshot](./Screenshot1.png)

A minimalist, personal bookmarking tool inspired by early del.icio.us. Built with **React 19** and **Supabase**.

It features a tag cloud, folder organization, unread lists, and a retro-style interface. It is designed to be a private, single-user application.

## Prerequisites

1.  **Node.js** (Version 18 or higher recommended)
2.  A free **[Supabase](https://supabase.com)** account.

---

## 1. Supabase Setup (Database)

Before running the app, you need to set up your backend.

1.  Create a new project at [supabase.com](https://supabase.com).
2.  Go to the **SQL Editor** in your Supabase dashboard.
3.  Copy and run the following SQL script to set up the tables, security policies, and storage:

```sql
-- 1. Create the bookmarks table
create table bookmarks (
  id bigint generated by default as identity primary key,
  created_at timestamp with time zone default timezone('utc'::text, now()) not null,
  url text not null,
  title text not null,
  description text,
  tags text[] default '{}',
  folders text[] default '{}',
  notes text,
  to_read boolean default false,
  user_id uuid references auth.users not null default auth.uid()
);

-- 2. Enable Row Level Security (RLS)
-- This ensures only the logged-in user can manage their own data
alter table bookmarks enable row level security;

create policy "Users can only see their own bookmarks" on bookmarks for select using (auth.uid() = user_id);
create policy "Users can insert their own bookmarks" on bookmarks for insert with check (auth.uid() = user_id);
create policy "Users can update their own bookmarks" on bookmarks for update using (auth.uid() = user_id);
create policy "Users can delete their own bookmarks" on bookmarks for delete using (auth.uid() = user_id);

-- 3. Setup Storage for Avatars
insert into storage.buckets (id, name, public) values ('avatars', 'avatars', true);

create policy "Avatar images are publicly accessible" on storage.objects for select using ( bucket_id = 'avatars' );
create policy "Anyone can upload an avatar" on storage.objects for insert with check ( bucket_id = 'avatars' AND auth.role() = 'authenticated' );
```

4.  Go to **Project Settings -> API**.
5.  Copy your **Project URL** and **anon public** key. You will need these in the next step.
6.  (Optional but Recommended) Go to **Authentication -> Providers -> Email** and disable "Confirm email" if you want to log in immediately without email verification.
7.  (Privacy Tip) Once you have created your own account, go to **Authentication -> Settings** and **disable "Allow new users to sign up"**. This makes your instance truly private.

---

## 2. Local Installation

1.  Clone this repository.
2.  Install dependencies:
    ```bash
    npm install
    ```
3.  Create a file named `.env` in the root directory.
4.  Add your Supabase credentials:
    ```env
    VITE_SUPABASE_URL=https://your-project-id.supabase.co
    VITE_SUPABASE_ANON_KEY=your-long-anon-key-string
    ```
5.  Start the development server:
    ```bash
    npm run dev
    ```

> **Note:** The file `services/supabaseClient.ts` contains placeholder values. The app is configured to prioritize the Environment Variables (`VITE_...`) defined above. You do **not** need to edit the TypeScript file directly.

---

## 3. Deployment

### Option A: Vercel (Recommended)

1.  Fork this repository to your GitHub account.
2.  Log in to [Vercel](https://vercel.com) and click **"Add New Project"**.
3.  Select your forked repository.
4.  In the "Configure Project" screen, expand **Environment Variables**.
5.  Add the following variables:
    *   `VITE_SUPABASE_URL`: Your Supabase URL.
    *   `VITE_SUPABASE_ANON_KEY`: Your Supabase Anon Key.
6.  Click **Deploy**.

### Option B: Cloudflare Pages

1.  Fork this repository to your GitHub account.
2.  Log in to the [Cloudflare Dashboard](https://dash.cloudflare.com/) and go to **Workers & Pages**.
3.  Click **Create Application** > **Pages** > **Connect to Git**.
4.  Select the repository.
5.  **Build settings:**
    *   **Framework preset:** Vite / React (or just "Vite")
    *   **Build command:** `npm run build`
    *   **Build output directory:** `dist`
6.  **Environment Variables:**
    *   Add `VITE_SUPABASE_URL` and `VITE_SUPABASE_ANON_KEY`.
7.  Click **Save and Deploy**.

### Option C: Manual / Self-Hosting

1.  Build the application:
    ```bash
    # Ensure your .env file is present or vars are set in your shell
    export VITE_SUPABASE_URL=...
    export VITE_SUPABASE_ANON_KEY=...
    npm run build
    ```
2.  Upload the contents of the `dist/` folder to your web server (Apache, Nginx, etc.).
3.  Configure your server to serve `index.html` for all routes (SPA fallback).

**Nginx Example:**
```nginx
location / {
  try_files $uri $uri/ /index.html;
}
```

---

## Updating the App

If you pull updates from this repository in the future, check the "Database Settings" / "Help" section inside the app. It will tell you if you need to run any new SQL commands (e.g., adding new columns) to keep your database compatible.

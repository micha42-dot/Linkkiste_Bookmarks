# LINK | kiste

**A minimalist, self-hosted bookmarking tool inspired by the golden era of del.icio.us.**

Built with **React 19**, **Vite**, and **Supabase**. Designed for speed, privacy, and simplicity.

![License](https://img.shields.io/badge/license-MIT-blue.svg)
![React](https://img.shields.io/badge/react-v19-blue)
![Supabase](https://img.shields.io/badge/backend-supabase-green)

## âœ¨ Features

*   **Private by Design:** You own the data. It lives in your own Supabase project.
*   **Retro Interface:** A clean, no-nonsense UI inspired by early 2000s social web.
*   **Progressive Web App (PWA):** Installable on iOS and Android.
*   **Native Sharing:** Share links directly from YouTube, Twitter, or Chrome to LinkKiste via your phone's "Share" menu.
*   **Powerful Organization:** Support for both **Tags** and **Folders**.
*   **Import/Export:** Full data ownership with SQL, CSV, and XML export options.

---

## ğŸš€ Installation Guide

You need a generic **Supabase** account (Free Tier is sufficient) and a host like **Vercel** or **Cloudflare Pages**.

### Phase 1: The Database (Supabase)

1.  Create a new project at [database.new](https://database.new).
2.  Navigate to the **SQL Editor** in the sidebar.
3.  Paste and run the following script to create the schema and security policies:

```sql
-- 1. Create Table
create table bookmarks (
  id bigint generated by default as identity primary key,
  created_at timestamp with time zone default timezone('utc'::text, now()) not null,
  url text not null,
  title text not null,
  description text,
  tags text[] default '{}',
  folders text[] default '{}',
  notes text,
  to_read boolean default false,
  user_id uuid references auth.users not null default auth.uid()
);

-- 2. Security (RLS)
alter table bookmarks enable row level security;

create policy "Users can only see their own bookmarks" on bookmarks for select using (auth.uid() = user_id);
create policy "Users can insert their own bookmarks" on bookmarks for insert with check (auth.uid() = user_id);
create policy "Users can update their own bookmarks" on bookmarks for update using (auth.uid() = user_id);
create policy "Users can delete their own bookmarks" on bookmarks for delete using (auth.uid() = user_id);

-- 3. Avatar Storage
insert into storage.buckets (id, name, public) values ('avatars', 'avatars', true);
create policy "Avatar images are publicly accessible" on storage.objects for select using ( bucket_id = 'avatars' );
create policy "Anyone can upload an avatar" on storage.objects for insert with check ( bucket_id = 'avatars' AND auth.role() = 'authenticated' );
```

4.  Go to **Project Settings** -> **API**.
5.  Copy the **Project URL** and the **`anon` public key**. You will need these for the next step.

### Phase 2: Deployment

Choose your fighter. **Vercel** is easier, **Cloudflare Pages** is often faster.

#### Option A: Vercel (Recommended)

1.  Push this code to your GitHub repository.
2.  Log in to Vercel and click **"Add New..."** -> **"Project"**.
3.  Import your repository.
4.  In the **"Environment Variables"** section, add these two:
    *   `VITE_SUPABASE_URL` : (Your URL from Phase 1)
    *   `VITE_SUPABASE_ANON_KEY` : (Your Key from Phase 1)
5.  Click **Deploy**.

#### Option B: Cloudflare Pages

1.  Log in to the Cloudflare Dashboard.
2.  Go to **Workers & Pages** -> **Create application**.
3.  **IMPORTANT:** Select the **"Pages"** tab (do **not** create a Worker). Click **"Connect to Git"**.
4.  Select your repository.
5.  **Build Settings:**
    *   **Framework Preset:** Vite (or None)
    *   **Build command:** `npm run build`
    *   **Output directory:** `dist`
6.  **Environment Variables:** Add `VITE_SUPABASE_URL` and `VITE_SUPABASE_ANON_KEY`.
7.  Click **Save and Deploy**.

> âš ï¸ **CRITICAL CLOUDFLARE WARNING:**
> If the deployment finishes but the app shows "Setup Required" or a white screen:
> Cloudflare "bakes" environment variables into the app at build time. If you added the variables *while* the build was running or after it started, they are ignored.
> **Fix:** Go to **Deployments** -> Click the three dots on the latest deployment -> **Retry deployment**. This forces a rebuild with the keys present.

---

## ğŸ“± Mobile App & Native Sharing

LinkKiste is a **Progressive Web App (PWA)**. It behaves like a native app on your phone.

### Installation
1.  Open your deployed website on your phone (Chrome for Android, Safari for iOS).
2.  **iOS:** Tap the "Share" button (box with arrow) -> Scroll down -> **"Add to Home Screen"**.
3.  **Android:** Tap the Menu (three dots) -> **"Install App"** or "Add to Home Screen".

### How to Share Links (The "Share Target" Feature)
Once installed, LinkKiste registers itself as a target in your phone's sharing menu.
1.  Open an app like **YouTube**, **Twitter/X**, or your **Browser**.
2.  Tap **Share**.
3.  Find **LinkKiste** in the list of apps.
4.  The app will open immediately with the URL and Title pre-filled.

---

## ğŸ§© Browser Extension (Desktop)

LinkKiste comes with a "Save to LinkKiste" extension located in the `public/extension` folder.

**Installation (Chrome / Edge / Brave):**
1.  Go to `chrome://extensions`.
2.  Enable **Developer mode** (top right).
3.  Click **Load unpacked**.
4.  Select the `public/extension` folder in your local project directory.

**Installation (Firefox):**
1.  Go to `about:debugging`.
2.  Click **This Firefox** -> **Load Temporary Add-on**.
3.  Select the `manifest.json` file in `public/extension`.

**Usage:**
Click the extension icon. On the first run, enter the URL of your deployed app (e.g., `https://my-linkkiste.vercel.app`).

---

## ğŸ”’ Security Best Practice

This tool is designed for **personal use**.

1.  Visit your live app and **Sign Up** to create your account.
2.  Immediately go to Supabase Dashboard -> **Authentication** -> **Settings** -> **User Signups**.
3.  **Disable "Allow new users to sign up"**.
    *   This ensures no one else can register on your instance and use your database quota.

---

## ğŸ¤ Contributing

Feel free to open issues or submit PRs. This is a passion project to keep the spirit of the old web alive.

## ğŸ“„ License

MIT